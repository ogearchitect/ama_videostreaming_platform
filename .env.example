# ============================================================================
# Azure Video Streaming Platform - Environment Configuration
# ============================================================================
#
# SECURITY NOTES:
# ---------------
# 1. This file contains example values - NEVER commit actual credentials
# 2. All credentials should be managed via environment variables
# 3. For production, use Azure Managed Identity instead of connection strings
# 4. Store sensitive values in Azure Key Vault for production deployments
# 5. Ensure .env files are in .gitignore to prevent accidental commits
#
# PRODUCTION RECOMMENDATIONS:
# ---------------------------
# - Enable Azure Managed Identity on your App Service/Function App
# - Use Azure Key Vault for secret management
# - Implement Azure AD authentication for APIs
# - Enable WAF on Azure Front Door for DDoS protection
# - Use private blob containers (public access disabled)
# - Configure firewall rules on Storage and Synapse
# - Enable audit logging and monitoring
#
# ============================================================================

# Azure Storage
# Security: Use Managed Identity in production (no connection string needed)
# Current: Connection string for development only
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=your_account;AccountKey=your_key;EndpointSuffix=core.windows.net
AZURE_STORAGE_CONTAINER_NAME=videos  # Videos stored in PRIVATE containers

# Azure Video Indexer
# Security: Use Managed Identity in production instead of subscription key
AZURE_VIDEO_INDEXER_ACCOUNT_ID=your_account_id
AZURE_VIDEO_INDEXER_LOCATION=eastus
AZURE_VIDEO_INDEXER_SUBSCRIPTION_KEY=your_subscription_key  # For development only
AZURE_VIDEO_INDEXER_RESOURCE_ID=/subscriptions/your-sub-id/resourceGroups/your-rg/providers/Microsoft.VideoIndexer/accounts/your-account
AZURE_VIDEO_INDEXER_STREAMING_PRESET=Default  # Default (CMAF), SingleBitrate, or NoStreaming

# Azure Front Door
# Security: WAF (Web Application Firewall) provides DDoS protection
# Configure WAF rules in Azure Portal for additional security
AZURE_FRONT_DOOR_ENDPOINT=https://your-frontdoor.azurefd.net

# Azure Synapse
# Security: Use Managed Identity in production instead of connection string
# Ensure 'Encrypt=yes' is set in connection string
AZURE_SYNAPSE_WORKSPACE_NAME=your-workspace
AZURE_SYNAPSE_SQL_POOL_NAME=your-sql-pool
AZURE_SYNAPSE_CONNECTION_STRING=Driver={ODBC Driver 17 for SQL Server};Server=tcp:your-workspace.sql.azuresynapse.net,1433;Database=your-db;Uid=your-user;Pwd=your-password;Encrypt=yes;TrustServerCertificate=no;Connection Timeout=30;

# Azure Application Insights (for monitoring and logging)
# Security: Instrumentation key is safe for client-side use (read-only)
AZURE_APPLICATION_INSIGHTS_KEY=your-instrumentation-key
AZURE_APPLICATION_INSIGHTS_CONNECTION_STRING=InstrumentationKey=your-instrumentation-key;IngestionEndpoint=https://your-region.in.applicationinsights.azure.com/;LiveEndpoint=https://your-region.livediagnostics.monitor.azure.com/

# Application
API_HOST=0.0.0.0
API_PORT=8000
DEBUG=True  # Set to False in production

# ============================================================================
# PRODUCTION SECURITY CHECKLIST:
# ============================================================================
# [ ] Enable Azure Managed Identity
# [ ] Move secrets to Azure Key Vault
# [ ] Configure Front Door WAF rules
# [ ] Enable HTTPS-only on Front Door
# [ ] Set blob containers to Private access
# [ ] Configure Storage firewall rules
# [ ] Configure Synapse firewall rules
# [ ] Implement API authentication (OAuth2/JWT)
# [ ] Enable Application Insights logging
# [ ] Set up security alerts and monitoring
# [ ] Disable DEBUG mode
# [ ] Review and test all security configurations
# ============================================================================
